<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-extra-secret-environment-vars" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Using Extra Secret Environment Variables | Solace Agent Mesh</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/docs/extra-secret-environment-vars"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using Extra Secret Environment Variables | Solace Agent Mesh"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/solace-agent-mesh-helm-quickstart/docs/img/favicon.png"><link data-rh="true" rel="canonical" href="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/docs/extra-secret-environment-vars"><link data-rh="true" rel="alternate" href="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/docs/extra-secret-environment-vars" hreflang="en"><link data-rh="true" rel="alternate" href="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/docs/extra-secret-environment-vars" hreflang="x-default"><link rel="stylesheet" href="/solace-agent-mesh-helm-quickstart/docs/assets/css/styles.4b065cb5.css">
<script src="/solace-agent-mesh-helm-quickstart/docs/assets/js/runtime~main.c1ca39ed.js" defer="defer"></script>
<script src="/solace-agent-mesh-helm-quickstart/docs/assets/js/main.aff793c7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/solace-agent-mesh-helm-quickstart/docs/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solace-agent-mesh-helm-quickstart/docs/"><div class="navbar__logo"><img src="/solace-agent-mesh-helm-quickstart/docs/img/logo.png" alt="Solace Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/solace-agent-mesh-helm-quickstart/docs/img/logo.png" alt="Solace Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solace Agent Mesh</b></a><a class="navbar__item navbar__link" href="/solace-agent-mesh-helm-quickstart/docs/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SolaceProducts/solace-agent-mesh-helm-quickstart" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using Extra Secret Environment Variables</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The <code>extraSecretEnvironmentVars</code> feature allows you to inject sensitive environment variables from existing Kubernetes secrets into your SAM (Solace Agent Mesh) deployment containers. This is useful for managing credentials, API keys, and other sensitive configuration data that should not be stored in plain text in your values files.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" translate="no">​</a></h2>
<p>The <code>extraSecretEnvironmentVars</code> configuration references existing Kubernetes secrets and maps specific keys from those secrets to environment variables in your containers. The Helm chart automatically injects these variables into the following containers:</p>
<ul>
<li class=""><strong>SAM Core container</strong> (<code>sam-core</code>)</li>
<li class=""><strong>Agent Deployer container</strong> (<code>agent-deployer</code>)</li>
<li class=""><strong>Database initialization container</strong> (<code>db-init</code>)</li>
<li class=""><strong>S3 initialization container</strong> (<code>s3-init</code>)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-create-a-kubernetes-secret">Step 1: Create a Kubernetes Secret<a href="#step-1-create-a-kubernetes-secret" class="hash-link" aria-label="Direct link to Step 1: Create a Kubernetes Secret" title="Direct link to Step 1: Create a Kubernetes Secret" translate="no">​</a></h3>
<p>First, create a Kubernetes secret containing your sensitive data:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic sam-llm-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=LLM_SERVICE_API_KEY=your-api-key-here \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=SOLACE_BROKER_PASSWORD=your-password-here \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span></code></pre></div></div>
<p>Alternatively, you can create a secret from a file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic sam-llm-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-file=LLM_SERVICE_API_KEY=./api-key.txt \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span></code></pre></div></div>
<p>Or using a YAML manifest:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> solace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">stringData</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">LLM_SERVICE_API_KEY</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-api-key-here&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SOLACE_BROKER_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-password-here&quot;</span><br></span></code></pre></div></div>
<p>Apply the secret:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f secret.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-configure-extrasecretenvironmentvars-in-valuesyaml">Step 2: Configure extraSecretEnvironmentVars in values.yaml<a href="#step-2-configure-extrasecretenvironmentvars-in-valuesyaml" class="hash-link" aria-label="Direct link to Step 2: Configure extraSecretEnvironmentVars in values.yaml" title="Direct link to Step 2: Configure extraSecretEnvironmentVars in values.yaml" translate="no">​</a></h3>
<p>Add the <code>extraSecretEnvironmentVars</code> configuration to your Helm values file:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOLACE_BROKER_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOLACE_BROKER_PASSWORD</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-parameters">Configuration Parameters<a href="#configuration-parameters" class="hash-link" aria-label="Direct link to Configuration Parameters" title="Direct link to Configuration Parameters" translate="no">​</a></h4>
<p>Each entry in <code>extraSecretEnvironmentVars</code> requires three fields:</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>envName</code></td><td>The name of the environment variable as it will appear in the container</td><td><code>LLM_SERVICE_API_KEY</code></td></tr><tr><td><code>secretName</code></td><td>The name of the Kubernetes secret containing the value</td><td><code>sam-llm-secret</code></td></tr><tr><td><code>secretKey</code></td><td>The key within the secret that contains the value</td><td><code>LLM_SERVICE_API_KEY</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-deploy-or-upgrade-sam">Step 3: Deploy or Upgrade SAM<a href="#step-3-deploy-or-upgrade-sam" class="hash-link" aria-label="Direct link to Step 3: Deploy or Upgrade SAM" title="Direct link to Step 3: Deploy or Upgrade SAM" translate="no">​</a></h3>
<p>Deploy or upgrade your SAM installation with the updated values:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install agent-mesh ./charts/solace-agent-mesh \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="complete-example">Complete Example<a href="#complete-example" class="hash-link" aria-label="Direct link to Complete Example" title="Direct link to Complete Example" translate="no">​</a></h2>
<p>Here&#x27;s a complete example showing how to inject multiple secrets from different sources:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-create-multiple-secrets">1. Create Multiple Secrets<a href="#1-create-multiple-secrets" class="hash-link" aria-label="Direct link to 1. Create Multiple Secrets" title="Direct link to 1. Create Multiple Secrets" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create LLM service secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic sam-llm-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=LLM_SERVICE_API_KEY=sk-1234567890abcdef \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create broker credentials secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic sam-broker-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=BROKER_USERNAME=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=BROKER_PASSWORD=secure-password \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create database credentials secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic sam-db-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=DB_ADMIN_PASSWORD=db-admin-pass \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-configure-valuesyaml">2. Configure values.yaml<a href="#2-configure-valuesyaml" class="hash-link" aria-label="Direct link to 2. Configure values.yaml" title="Direct link to 2. Configure values.yaml" translate="no">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># LLM Service API Key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Broker Credentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOLACE_BROKER_USERNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">broker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BROKER_USERNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOLACE_BROKER_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">broker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BROKER_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Database Admin Password</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DB_ADMIN_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DB_ADMIN_PASSWORD</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-deploy">3. Deploy<a href="#3-deploy" class="hash-link" aria-label="Direct link to 3. Deploy" title="Direct link to 3. Deploy" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install agent-mesh ./charts/solace-agent-mesh \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="verification">Verification<a href="#verification" class="hash-link" aria-label="Direct link to Verification" title="Direct link to Verification" translate="no">​</a></h2>
<p>To verify that the environment variables are correctly injected:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-check-pod-environment-variables">1. Check Pod Environment Variables<a href="#1-check-pod-environment-variables" class="hash-link" aria-label="Direct link to 1. Check Pod Environment Variables" title="Direct link to 1. Check Pod Environment Variables" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Get the pod name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POD_NAME=$(kubectl get pods -n solace-cloud -l app.kubernetes.io/component=core -o jsonpath=&#x27;{.items[0].metadata.name}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check environment variables (this will show the variable names but not the values for security)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -n solace-cloud $POD_NAME -- env | grep LLM_SERVICE_API_KEY</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-describe-the-pod">2. Describe the Pod<a href="#2-describe-the-pod" class="hash-link" aria-label="Direct link to 2. Describe the Pod" title="Direct link to 2. Describe the Pod" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pod -n solace-cloud $POD_NAME</span><br></span></code></pre></div></div>
<p>Look for the <code>Environment</code> section in the container specification. You should see entries like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LLM_SERVICE_API_KEY:  &lt;set to the key &#x27;LLM_SERVICE_API_KEY&#x27; in secret &#x27;sam-llm-secret&#x27;&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-llm-service-integration">1. LLM Service Integration<a href="#1-llm-service-integration" class="hash-link" aria-label="Direct link to 1. LLM Service Integration" title="Direct link to 1. LLM Service Integration" translate="no">​</a></h3>
<p>Inject API keys for LLM services (OpenAI, Anthropic, etc.):</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">key</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-external-database-credentials">2. External Database Credentials<a href="#2-external-database-credentials" class="hash-link" aria-label="Direct link to 2. External Database Credentials" title="Direct link to 2. External Database Credentials" translate="no">​</a></h3>
<p>Inject credentials for external databases:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EXTERNAL_DB_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">creds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EXTERNAL_DB_USERNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">creds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> username</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-message-broker-credentials">3. Message Broker Credentials<a href="#3-message-broker-credentials" class="hash-link" aria-label="Direct link to 3. Message Broker Credentials" title="Direct link to 3. Message Broker Credentials" translate="no">​</a></h3>
<p>Inject Solace broker credentials:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOLACE_BROKER_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> broker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-third-party-api-keys">4. Third-Party API Keys<a href="#4-third-party-api-keys" class="hash-link" aria-label="Direct link to 4. Third-Party API Keys" title="Direct link to 4. Third-Party API Keys" translate="no">​</a></h3>
<p>Inject API keys for third-party services:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SLACK_API_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> integration</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> slack</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GITHUB_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> integration</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> github</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">token</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-use-separate-secrets-for-different-purposes">1. Use Separate Secrets for Different Purposes<a href="#1-use-separate-secrets-for-different-purposes" class="hash-link" aria-label="Direct link to 1. Use Separate Secrets for Different Purposes" title="Direct link to 1. Use Separate Secrets for Different Purposes" translate="no">​</a></h3>
<p>Organize secrets by their purpose or service:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">extraSecretEnvironmentVars</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># LLM secrets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Broker secrets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BROKER_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">broker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Integration secrets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SLACK_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">integration</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> slack</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">token</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-use-descriptive-names">2. Use Descriptive Names<a href="#2-use-descriptive-names" class="hash-link" aria-label="Direct link to 2. Use Descriptive Names" title="Direct link to 2. Use Descriptive Names" translate="no">​</a></h3>
<p>Use clear, descriptive names for environment variables:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Good</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> openai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Avoid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">envName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KEY1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> k1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-namespace-isolation">3. Namespace Isolation<a href="#3-namespace-isolation" class="hash-link" aria-label="Direct link to 3. Namespace Isolation" title="Direct link to 3. Namespace Isolation" translate="no">​</a></h3>
<p>Always create secrets in the same namespace as your SAM deployment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic my-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --from-literal=KEY=value \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n solace-cloud  # Same namespace as SAM</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-secret-management-tools">4. Secret Management Tools<a href="#4-secret-management-tools" class="hash-link" aria-label="Direct link to 4. Secret Management Tools" title="Direct link to 4. Secret Management Tools" translate="no">​</a></h3>
<p>Consider using secret management tools for production:</p>
<ul>
<li class=""><strong>Sealed Secrets</strong>: Encrypt secrets in Git</li>
<li class=""><strong>External Secrets Operator</strong>: Sync secrets from external secret stores (AWS Secrets Manager, HashiCorp Vault, etc.)</li>
<li class=""><strong>SOPS</strong>: Encrypt secrets in YAML files</li>
</ul>
<p>Example with External Secrets Operator:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ExternalSecret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> solace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">refreshInterval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretStoreRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SecretStore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">secretKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LLM_SERVICE_API_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">remoteRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prod/sam/llm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">key</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-rotation-strategy">5. Rotation Strategy<a href="#5-rotation-strategy" class="hash-link" aria-label="Direct link to 5. Rotation Strategy" title="Direct link to 5. Rotation Strategy" translate="no">​</a></h3>
<p>Implement a secret rotation strategy:</p>
<ol>
<li class="">Create a new secret with updated credentials</li>
<li class="">Update the <code>secretName</code> in your values file</li>
<li class="">Perform a rolling update of the deployment</li>
<li class="">Delete the old secret after verification</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="secret-not-found">Secret Not Found<a href="#secret-not-found" class="hash-link" aria-label="Direct link to Secret Not Found" title="Direct link to Secret Not Found" translate="no">​</a></h3>
<p><strong>Error</strong>: <code>Error: secret &quot;sam-llm-secret&quot; not found</code></p>
<p><strong>Solution</strong>: Ensure the secret exists in the correct namespace:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secrets -n solace-cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe secret sam-llm-secret -n solace-cloud</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-not-found-in-secret">Key Not Found in Secret<a href="#key-not-found-in-secret" class="hash-link" aria-label="Direct link to Key Not Found in Secret" title="Direct link to Key Not Found in Secret" translate="no">​</a></h3>
<p><strong>Error</strong>: <code>Error: key &quot;LLM_SERVICE_API_KEY&quot; not found in secret &quot;sam-llm-secret&quot;</code></p>
<p><strong>Solution</strong>: Verify the secret contains the expected key:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secret sam-llm-secret -n solace-cloud -o jsonpath=&#x27;{.data}&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="environment-variable-not-set">Environment Variable Not Set<a href="#environment-variable-not-set" class="hash-link" aria-label="Direct link to Environment Variable Not Set" title="Direct link to Environment Variable Not Set" translate="no">​</a></h3>
<p><strong>Issue</strong>: The environment variable is not available in the container</p>
<p><strong>Solution</strong>:</p>
<ol>
<li class="">Verify the <code>extraSecretEnvironmentVars</code> configuration in your values file</li>
<li class="">Check that the Helm chart was deployed with the updated values</li>
<li class="">Verify the pod was restarted after the configuration change</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Force pod restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout restart deployment/agent-mesh-core -n solace-cloud</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="permission-issues">Permission Issues<a href="#permission-issues" class="hash-link" aria-label="Direct link to Permission Issues" title="Direct link to Permission Issues" translate="no">​</a></h3>
<p><strong>Error</strong>: <code>Error: secrets &quot;sam-llm-secret&quot; is forbidden</code></p>
<p><strong>Solution</strong>: Ensure the service account has permission to access secrets:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> solace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">apiGroups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;secrets&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">verbs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;get&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;list&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RoleBinding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secrets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> solace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">subjects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ServiceAccount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sam</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> solace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">roleRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">apiGroup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-considerations">Security Considerations<a href="#security-considerations" class="hash-link" aria-label="Direct link to Security Considerations" title="Direct link to Security Considerations" translate="no">​</a></h2>
<ol>
<li class=""><strong>Never commit secrets to Git</strong>: Always use <code>.gitignore</code> to exclude secret files</li>
<li class=""><strong>Use RBAC</strong>: Limit access to secrets using Kubernetes RBAC</li>
<li class=""><strong>Encrypt at rest</strong>: Enable encryption at rest for etcd in your Kubernetes cluster</li>
<li class=""><strong>Audit access</strong>: Enable audit logging for secret access</li>
<li class=""><strong>Rotate regularly</strong>: Implement a regular secret rotation policy</li>
<li class=""><strong>Least privilege</strong>: Only grant access to secrets that are absolutely necessary</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-documentation">Related Documentation<a href="#related-documentation" class="hash-link" aria-label="Direct link to Related Documentation" title="Direct link to Related Documentation" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://kubernetes.io/docs/concepts/configuration/secret/" target="_blank" rel="noopener noreferrer" class="">Kubernetes Secrets</a></li>
<li class=""><a href="https://helm.sh/docs/chart_template_guide/values_files/" target="_blank" rel="noopener noreferrer" class="">Helm Values Files</a></li>
<li class=""><a href="https://external-secrets.io/" target="_blank" rel="noopener noreferrer" class="">External Secrets Operator</a></li>
<li class=""><a href="https://github.com/bitnami-labs/sealed-secrets" target="_blank" rel="noopener noreferrer" class="">Sealed Secrets</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/SolaceProducts/solace-agent-mesh-helm-quickstart/edit/main/docs/extra-secret-environment-vars.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How It Works</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#step-1-create-a-kubernetes-secret" class="table-of-contents__link toc-highlight">Step 1: Create a Kubernetes Secret</a></li><li><a href="#step-2-configure-extrasecretenvironmentvars-in-valuesyaml" class="table-of-contents__link toc-highlight">Step 2: Configure extraSecretEnvironmentVars in values.yaml</a></li><li><a href="#step-3-deploy-or-upgrade-sam" class="table-of-contents__link toc-highlight">Step 3: Deploy or Upgrade SAM</a></li></ul></li><li><a href="#complete-example" class="table-of-contents__link toc-highlight">Complete Example</a><ul><li><a href="#1-create-multiple-secrets" class="table-of-contents__link toc-highlight">1. Create Multiple Secrets</a></li><li><a href="#2-configure-valuesyaml" class="table-of-contents__link toc-highlight">2. Configure values.yaml</a></li><li><a href="#3-deploy" class="table-of-contents__link toc-highlight">3. Deploy</a></li></ul></li><li><a href="#verification" class="table-of-contents__link toc-highlight">Verification</a><ul><li><a href="#1-check-pod-environment-variables" class="table-of-contents__link toc-highlight">1. Check Pod Environment Variables</a></li><li><a href="#2-describe-the-pod" class="table-of-contents__link toc-highlight">2. Describe the Pod</a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#1-llm-service-integration" class="table-of-contents__link toc-highlight">1. LLM Service Integration</a></li><li><a href="#2-external-database-credentials" class="table-of-contents__link toc-highlight">2. External Database Credentials</a></li><li><a href="#3-message-broker-credentials" class="table-of-contents__link toc-highlight">3. Message Broker Credentials</a></li><li><a href="#4-third-party-api-keys" class="table-of-contents__link toc-highlight">4. Third-Party API Keys</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-use-separate-secrets-for-different-purposes" class="table-of-contents__link toc-highlight">1. Use Separate Secrets for Different Purposes</a></li><li><a href="#2-use-descriptive-names" class="table-of-contents__link toc-highlight">2. Use Descriptive Names</a></li><li><a href="#3-namespace-isolation" class="table-of-contents__link toc-highlight">3. Namespace Isolation</a></li><li><a href="#4-secret-management-tools" class="table-of-contents__link toc-highlight">4. Secret Management Tools</a></li><li><a href="#5-rotation-strategy" class="table-of-contents__link toc-highlight">5. Rotation Strategy</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#secret-not-found" class="table-of-contents__link toc-highlight">Secret Not Found</a></li><li><a href="#key-not-found-in-secret" class="table-of-contents__link toc-highlight">Key Not Found in Secret</a></li><li><a href="#environment-variable-not-set" class="table-of-contents__link toc-highlight">Environment Variable Not Set</a></li><li><a href="#permission-issues" class="table-of-contents__link toc-highlight">Permission Issues</a></li></ul></li><li><a href="#security-considerations" class="table-of-contents__link toc-highlight">Security Considerations</a></li><li><a href="#related-documentation" class="table-of-contents__link toc-highlight">Related Documentation</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/solace-agent-mesh-helm-quickstart/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/solace-agent-mesh-helm-quickstart/docs/network-configuration">Network Configuration</a></li><li class="footer__item"><a class="footer__link-item" href="/solace-agent-mesh-helm-quickstart/docs/troubleshooting">Troubleshooting</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.solace.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Solace Docs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceProducts/solace-agent-mesh-helm-quickstart" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Repository<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Helm Repository</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://solaceproducts.github.io/solace-agent-mesh-helm-quickstart/index.yaml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chart Index<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceProducts/solace-agent-mesh-helm-quickstart/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report Issues<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Solace. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>